runtime: python
env: flex
resources:
    cpu: 1
    memory_gb: 2
    disk_size_gb: 10
readiness_check:
  path: "/readiness_check"
  check_interval_sec: 5
  timeout_sec: 4
  failure_threshold: 2
  success_threshold: 2
  app_start_timeout_sec: 1800

handlers:
- url: /(.+\.js)
  static_files: dist/site1/\1
  upload: dist/site1/(.+\.js)

- url: /(.+\.css)
  static_files: dist/site1/\1
  upload: dist/site1/(.+\.css)

- url: /(.+\.png)
  static_files: dist/site1/\1
  upload: dist/site1/(.+\.png)

- url: /(.+\.jpg)
  static_files: dist/site1/\1
  upload: dist/site1/(.+\.jpg)

- url: /(.+\.svg)
  static_files: dist/site1/\1
  upload: dist/site1/(.+\.svg)

- url: /favicon.ico
  static_files: dist/site1/favicon.ico
  upload: dist/site1/favicon.ico

- url: /(.+\.json)
  static_files: dist/site1/\1
  upload: dist/site1/(.+\.json)

- url: /(.+)
  static_files: dist/site1/index.html
  upload: dist/site1/index.html

- url: /
  static_files: dist/site1/index.html
  upload: dist/site1/index.html

skip_files:
  - e2e/
  - node_modules/
  - src/
  - ^(.*/)?\..*$
  - ^(.*/)?.*\.json$
  - ^(.*/)?.*\.md$
  - ^LICENSE